<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	<!-- Boxicons -->
	<link href='https://unpkg.com/boxicons@2.0.9/css/boxicons.min.css' rel='stylesheet'>
	<!-- My CSS -->
	<link rel="stylesheet" href="/adminhub/style.css">

	<title>AdminHub - Image Management</title>
	<style>
		/* Additional styles for image management */
		.img-grid {
			display: grid;
			grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
			gap: 16px;
		}

		.img-card {
			background: var(--grey);
			border-radius: 10px;
			padding: 10px;
			transition: all 0.3s ease;
			cursor: pointer;
		}

		.img-card:hover {
			transform: translateY(-5px);
			box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
		}

		.img-name {
			margin-top: 10px;
			font-weight: 500;
			color: var(--dark);
			white-space: nowrap;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		.img-location {
			font-size: 12px;
			color: var(--dark-grey);
		}

		/* Modal styles */
		.modal {
			display: none;
			position: fixed;
			z-index: 3000;
			top: 0;
			left: 0;
			width: 100%;
			height: 100%;
			overflow: auto;
			background-color: rgba(0, 0, 0, 0.7);
		}

		.modal-content {
			background-color: var(--light);
			margin: 10% auto;
			padding: 20px;
			border-radius: 10px;
			width: 60%;
			position: relative;
			max-width: 800px;
		}

		.close-modal {
			position: absolute;
			top: 10px;
			right: 15px;
			color: var(--dark);
			font-size: 28px;
			font-weight: bold;
			cursor: pointer;
		}

		.modal-img {
			width: 100%;
			max-height: 400px;
			object-fit: contain;
			border-radius: 5px;
		}

		.modal-details {
			margin-top: 15px;
		}

		.modal-details p {
			margin: 5px 0;
		}

		.modal-actions {
			display: flex;
			gap: 10px;
			margin-top: 15px;
		}

		.btn {
			padding: 8px 16px;
			border-radius: 36px;
			border: none;
			cursor: pointer;
			font-size: 14px;
			font-weight: 500;
		}

		.btn-primary {
			background: var(--blue);
			color: var(--light);
		}

		.btn-danger {
			background: var(--red);
			color: var(--light);
		}

		/* Upload section */
		.upload-section {
			margin-top: 24px;
			background: var(--light);
			padding: 24px;
			border-radius: 20px;
		}

		.upload-title {
			font-size: 24px;
			font-weight: 600;
			margin-bottom: 16px;
			color: var(--dark);
		}

		.upload-area {
			border: 2px dashed var(--dark-grey);
			border-radius: 10px;
			padding: 30px;
			text-align: center;
			margin-bottom: 15px;
			cursor: pointer;
			transition: all 0.3s ease;
		}

		.upload-area:hover {
			border-color: var(--blue);
		}

		.upload-icon {
			font-size: 48px;
			color: var(--dark-grey);
			margin-bottom: 10px;
		}

		.upload-text {
			color: var(--dark);
			margin-bottom: 15px;
		}

		.file-input {
			display: none;
		}

		.preview-container {
			display: flex;
			flex-wrap: wrap;
			gap: 15px;
			margin-top: 15px;
		}

		.preview-item {
			position: relative;
			width: 100px;
			height: 100px;
			border-radius: 5px;
			overflow: hidden;
		}

		.preview-img {
			width: 100%;
			height: 100%;
			object-fit: cover;
		}

		.remove-preview {
			position: absolute;
			top: 5px;
			right: 5px;
			background-color: rgba(0, 0, 0, 0.5);
			color: white;
			width: 20px;
			height: 20px;
			border-radius: 50%;
			display: flex;
			justify-content: center;
			align-items: center;
			cursor: pointer;
			font-size: 12px;
		}
	</style>
</head>
<body>
	<!-- SIDEBAR -->
	<section id="sidebar">
		<a href="#" class="brand">
			<i class='bx bxs-smile'></i>
			<span class="text">AdminHub</span>
		</a>
		<ul class="side-menu top">
			<li>
				<a href="index.html">
					<i class='bx bxs-dashboard'></i>
					<span class="text">Dashboard</span>
				</a>
			</li>
			<li>
				<a href="./Pages/index.html">
					<i class='bx bxs-shopping-bag-alt'></i>
					<span class="text">My Store</span>
				</a>
			</li>
			<li class="active">
				<a href="#">
					<i class='bx bxs-image'></i>
					<span class="text">Image Management</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-doughnut-chart'></i>
					<span class="text">Analytics</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-message-dots'></i>
					<span class="text">Message</span>
				</a>
			</li>
			<li>
				<a href="#">
					<i class='bx bxs-group'></i>
					<span class="text">Team</span>
				</a>
			</li>
		</ul>
		<ul class="side-menu">
			<li>
				<a href="#">
					<i class='bx bxs-cog'></i>
					<span class="text">Settings</span>
				</a>
			</li>
			<li>
				<a href="#" class="logout">
					<i class='bx bxs-log-out-circle'></i>
					<span class="text">Logout</span>
				</a>
			</li>
		</ul>
	</section>
	<!-- SIDEBAR -->

	<!-- CONTENT -->
	<section id="content">
		<!-- NAVBAR -->
		<nav>
			<i class='bx bx-menu'></i>
			<a href="#" class="nav-link">Categories</a>
			<form action="#">
				<div class="form-input">
					<input type="search" placeholder="Search...">
					<button type="submit" class="search-btn"><i class='bx bx-search'></i></button>
				</div>
			</form>
			<input type="checkbox" id="switch-mode" hidden>
			<label for="switch-mode" class="switch-mode"></label>
			<a href="#" class="notification">
				<i class='bx bxs-bell'></i>
				<span class="num">8</span>
			</a>
			<a href="#" class="profile">
			</a>
		</nav>
		<!-- NAVBAR -->

		<!-- MAIN -->
		<main>
			<div class="head-title">
				<div class="left">
					<h1>Image Management</h1>
					<ul class="breadcrumb">
						<li>
							<a href="index.html">Dashboard</a>
						</li>
						<li>
							<a href="#" class="active">Image Management</a>
						</li>
					</ul>
				</div>
			</div>

			<div class="table-data">
				<div class="order">
					<div class="head">
						<h3>Current Frontend Images</h3>
						<i class='bx bx-search'></i>
						<i class='bx bx-filter'></i>
					</div>
					
					<div class="img-grid">
						<div class="img-card" onclick="showImagePreview('hero-banner.jpg', 'Hero Banner', 'Home Page', '1200x400', '245 KB')">
							<div class="img-name">hero-banner.jpg</div>
							<div class="img-location">Location: Home Page</div>
						</div>
						
						<div class="img-card" onclick="showImagePreview('about-us.jpg', 'About Us Image', 'About Page', '800x600', '180 KB')">
							<div class="img-name">about-us.jpg</div>
							<div class="img-location">Location: About Page</div>
						</div>
						
						<div class="img-card" onclick="showImagePreview('product-showcase.jpg', 'Product Showcase', 'Products Page', '1000x800', '320 KB')">
							<div class="img-name">product-showcase.jpg</div>
							<div class="img-location">Location: Products Page</div>
						</div>
						
						<div class="img-card" onclick="showImagePreview('team-photo.jpg', 'Team Photo', 'About Page', '1200x800', '420 KB')">
							<div class="img-name">team-photo.jpg</div>
							<div class="img-location">Location: About Page</div>
						</div>
						
						<div class="img-card" onclick="showImagePreview('logo.png', 'Logo', 'All Pages (Header)', '200x80', '35 KB')">
							<div class="img-name">logo.png</div>
							<div class="img-location">Location: All Pages (Header)</div>
						</div>
						
						<div class="img-card" onclick="showImagePreview('testimonial-bg.jpg', 'Testimonial Background', 'Home Page', '1920x300', '280 KB')">
							<div class="img-name">testimonial-bg.jpg</div>
							<div class="img-location">Location: Home Page</div>
						</div>
					</div>
				</div>
			</div>

			<div class="upload-section">
				<div class="upload-title">Upload New Images</div>
				<div id="upload-dropzone" class="upload-area" onclick="document.getElementById('file-input').click()">
					<div class="upload-icon"><i class='bx bx-upload'></i></div>
					<div class="upload-text">Drag & Drop images here or click to select files</div>
					<button class="btn btn-primary">Select Files</button>
					<input type="file" id="file-input" class="file-input" multiple accept="image/*">
				</div>
				
				<div class="preview-container" id="preview-container">
					<!-- Preview items will be added here dynamically -->
				</div>
				
				<div style="margin-top: 20px; display: none;" id="upload-actions">
					<button class="btn btn-primary" onclick="uploadImages()">Upload Images</button>
					<span style="margin-left: 10px; color: var(--dark-grey);">Selected images: <span id="selected-count">0</span></span>
				</div>
			</div>
		</main>
		<!-- MAIN -->
	</section>
	<!-- CONTENT -->

	<!-- IMAGE PREVIEW MODAL -->
	<div class="modal" id="image-modal">
		<div class="modal-content">
			<span class="close-modal" onclick="closeModal()">&times;</span>
			<img src="" alt="Image Preview" class="modal-img" id="modal-image">
			<div class="modal-details">
				<p><strong>Name:</strong> <span id="modal-name"></span></p>
				<p><strong>Location:</strong> <span id="modal-location"></span></p>
				<p><strong>Dimensions:</strong> <span id="modal-dimensions"></span></p>
				<p><strong>Size:</strong> <span id="modal-size"></span></p>
				<div class="modal-actions">
					<button class="btn btn-primary" onclick="openReplaceImage()">Replace Image</button>
					<button class="btn btn-danger" onclick="deleteImage()">Delete Image</button>
				</div>
			</div>
		</div>
	</div>

	<script>
		function showImagePreview(imageName, title, location, dimensions, size) {
			const modal = document.getElementById('image-modal');
			const modalImage = document.getElementById('modal-image');
			
			// For demo purposes, we'll use placeholder images
			modalImage.src = `/api/placeholder/800/600`;
			
			// Set modal details
			document.getElementById('modal-name').textContent = title || imageName;
			document.getElementById('modal-location').textContent = location;
			document.getElementById('modal-dimensions').textContent = dimensions;
			document.getElementById('modal-size').textContent = size;
			
			// Show modal
			modal.style.display = 'block';
		}
		
		// Close Modal
		function closeModal() {
			document.getElementById('image-modal').style.display = 'none';
		}
		
		// Replace Image
		function openReplaceImage() {
			document.getElementById('file-input').click();
			closeModal();
		}
		
		// Delete Image (demo)
		function deleteImage() {
			if (confirm('Are you sure you want to delete this image? This action cannot be undone.')) {
				alert('Image deleted successfully!');
				closeModal();
			}
		}
		
		// Handle file selection
		document.addEventListener('DOMContentLoaded', function() {
			const fileInput = document.getElementById('file-input');
			const previewContainer = document.getElementById('preview-container');
			const uploadActions = document.getElementById('upload-actions');
			const selectedCount = document.getElementById('selected-count');
			const dropzone = document.getElementById('upload-dropzone');
			
			fileInput.addEventListener('change', handleFiles);
			
			// Drag & Drop functionality
			dropzone.addEventListener('dragover', function(e) {
				e.preventDefault();
				dropzone.style.borderColor = 'var(--blue)';
			});
			
			dropzone.addEventListener('dragleave', function() {
				dropzone.style.borderColor = 'var(--dark-grey)';
			});
			
			dropzone.addEventListener('drop', function(e) {
				e.preventDefault();
				dropzone.style.borderColor = 'var(--dark-grey)';
				
				if (e.dataTransfer.files.length > 0) {
					fileInput.files = e.dataTransfer.files;
					handleFiles();
				}
			});
			
			function handleFiles() {
				const files = fileInput.files;
				
				if (files.length > 0) {
					uploadActions.style.display = 'block';
					selectedCount.textContent = files.length;
					
					// Clear previous previews
					previewContainer.innerHTML = '';
					
					// Create preview for each file
					Array.from(files).forEach(function(file) {
						if (!file.type.match('image.*')) {
							return;
						}
						
						const reader = new FileReader();
						
						reader.onload = function(e) {
							const previewItem = document.createElement('div');
							previewItem.className = 'preview-item';
							
							const img = document.createElement('img');
							img.src = e.target.result;
							img.className = 'preview-img';
							
							const removeButton = document.createElement('div');
							removeButton.className = 'remove-preview';
							removeButton.innerHTML = '×';
							removeButton.addEventListener('click', function(event) {
								event.stopPropagation();
								previewItem.remove();
								
								// Update count
								const currentCount = document.querySelectorAll('.preview-item').length;
								selectedCount.textContent = currentCount;
								
								if (currentCount === 0) {
									uploadActions.style.display = 'none';
								}
							});
							
							previewItem.appendChild(img);
							previewItem.appendChild(removeButton);
							previewContainer.appendChild(previewItem);
						};
						
						reader.readAsDataURL(file);
					});
				}
			}
		});
		
		function uploadImages() {
			const previewItems = document.querySelectorAll('.preview-item');
			
			if (previewItems.length > 0) {
				const btn = document.querySelector('.upload-section .btn-primary');
				const originalText = btn.textContent;
				btn.textContent = 'Uploading...';
				btn.disabled = true;
				
				setTimeout(function() {
					alert(`Successfully uploaded ${previewItems.length} images!`);
					document.getElementById('preview-container').innerHTML = '';
					document.getElementById('upload-actions').style.display = 'none';
					document.getElementById('file-input').value = '';
					
					btn.textContent = originalText;
					btn.disabled = false;
				}, 2000);
			}
		}
	</script>
</body>
</html>